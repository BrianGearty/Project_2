<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Cart</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Niconne&family=Yesteryear&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/style.css">
</head>

<body>
<br>
<br>

<h3 class="header">Your Shopping Cart</h3>

        <div class="row">
            <div class="col-lg-12">
                <div class="card-deck">
                    {{#each product}}
                    <div class="card text-center">
                        <div class="card-body">
                            <h3 class="card-title">Your Cart</h3>
                            <div class="card-text">{{this.dataValues.FoodId.}}</div>
                            <div class="card-text">{{this.dataValues.Product_name}}</div>
                            <div class="card-text">Price: ${{this.dataValues.Cost}} /each</div>
                        </div>
                    </div>
                    {{/each}}
                </div>
            </div>
        </div>


<script>
        var currentCustomer = JSON.parse(localStorage.getItem('newuser'))
                console.log('this is current customer id', currentCustomer.results.id)
                
    //ajax call to go get all the carts where id = localstarage custmer id from database
    // in the .then() of the ajax call loop and put each thing on the page
    $.ajax({
        url: "/cart" + "/" + currentCustomer.results.id  ,
        type: "GET",
    }).then(function(stuffFromDb) {
        console.log(stuffFromDb)
        var total = 0
            
        // for(var i = 0; i < stuffFromDb.length; i ++) {
            // total += stuffFromDb[i].cost

        
        // }
    })

</script>

</body>
</html>